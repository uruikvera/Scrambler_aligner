# Scrambler_aligner
Скремблер и элайнер для пакетов данных 
Scrambler_aligner - приложение для выравнивания и скремблирования/дескремблирования файлов, содержащих кадры OTU. Приложение разработано на языке программирования C#, с использованием Windows Forms.
I. Выравнивание:
1)	кнопка "browse" - выбор исходного файла, автоматический ввод файла сохранение: диектория_исходного_файла\имя_исходного_файла.align, 
2)	кнопка "изменить" - возможность изменения директории и имени файла сохранения;
3)	кнопка "выполнить" - процесс выравнивания и записи выровненного файла:
-	вычисление размера кадра и выявление развёрнуты байты или нет
-	нахождение расстояния до первого FAS и MFAS = 0
-	выявление целых кадров и их запись начиная с кадра, у которого MFAS = 0
-	вывод информации: 
размера кадра 
развёрнуты байты или нет
первый FAS
первый MFAS
количество неуверенно распознанных кадров*
количество неуверенно распознанных последовательностей MFAS от 0 до 255*

	Если два FAS подряд не распознаны кадр обозначается как неуверенно распознанный кадр, счётчик неуверенно распознанных кадров увеличивается на 1 и продолжает работу.  
	*Неуверенно распознанный кадр - кадр, при распознавании которого не распознаны его FAS и FAS следующего кадра, но распознался FAS третьего кадра.
        Если три FAS подряд не распознаны вызывается предупреждение о том, что сигнал плохой, обработка прекращается и обработанные кадры выгружается в файл результата.

Обработка последовательностей MFAS: 
-	проверка соблюдения последовательности MFAS (0->1->2->3->....->254->255).
        *Неуверенно распознанная последовательность MFAS - последовательность, где более 10 нарушений очерёдности значений MFAS в последовательности от 0 до 255.
     Например: 0->1->2->3->4->22->6->7->8->51->88->11->12
 	                          |   |        |   |   |  - 5 нарушений очерёдности                      
При количестве ошибок не превышающих 10 последовательность MFAS считается корректной, в противном случает счётчик неуверенно распознанных последовательностей MFAS увеличивается на 1.
_____________________________________________________________________________

Зависимость количества неуверенно распознанных кадров от уровня BER сигнала:
(исследования велись на записи 2 Гб)
![alt text](https://i.pinimg.com/originals/5d/1e/f0/5d1ef0afa50b1b616797723c380f2208.png)
На графике можно выделить 3 зоны:
1. Отсутствие неуверенно распознанных кадров (до 2E-3): стабильно отсутствуют неуверенно распознанные кадры.
2. Постепенный рост количества неуверенно распознанных кадров (с 2Е-3 до 1Е-2): с 2E-3 количество неуверенно распознанных кадров постепенно возрастает с 0 до 16, не всегда равномерно, но отклонения небольшие.
3. Резкий рост количества неуверенно распознанных кадров (с 1Е-2 до 2Е-2): рост количества неуверенно распознанных кадров с 16 до 60.
Начиная с уровня BER = 3E-2 стабильно выдаёт сообщение о том, что три FAS не распознано и сигнал сильно зашумлён (после этого сообщения обработка прекращается).

II. Скремблирование:
1)	установка значений полинома (автоматически 10001000000001011) и длины кадра в битах (автоматически 130560);
2)	кнопка "browse" - выбор исходного файла; автоматический ввод файла сохранение: диектория_исходного_файла\имя_исходного_файла.descr, 
3)	кнопка "изменить" - возможность изменения директории и имени файла сохранения, выбор расширения “.descr” или “.scr”;
4)	кнопка "выполнить" - процесс скремблирования и записи файла:
-	генерация LFSR-последовательности;
-	XOR кадров с LFSR-последовательностью и их запись в файл сохранения.
-	Вывод сообщения о завершении скремблирования
III. Кнопка “help”
Кнопка “help” – подсказка, содержащая дополнительную информацию для пользователя.
Она отличается в зависимости от того, в каком режиме работает пользователь, в выравнивании или скремблировании. 

